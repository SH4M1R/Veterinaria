{% extends 'base.html' %}
{% block body %}
<nav class="navbar navbar-dark bg-dark navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center" href="/">
      <i class="bi bi-heart-pulse-fill me-2 text-warning"></i>
      <strong class="text-warning">HAPPY PET</strong>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto d-flex flex-row align-items-center">
        <li class="nav-item me-2">
          <a class="nav-link text-warning d-flex align-items-center" href="/reservar">
            <i class="bi bi-calendar-plus me-1"></i> Reservar cita
          </a>
        </li>
        {% if current_user.is_authenticated %}
        <li class="nav-item me-2">
          <a class="nav-link text-warning d-flex align-items-center" href="#">
            <i class="bi bi-person-circle me-1"></i> {{ current_user.name }}
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-warning d-flex align-items-center" href="/logout">
            <i class="bi bi-box-arrow-right me-1"></i> Cerrar sesión
          </a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link text-warning d-flex align-items-center" href="/login">
            <i class="bi bi-box-arrow-in-right me-1"></i> Ingresar
          </a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
<div class="container mt-4">
  <h3 class="text-ligth">Reservar cita</h3>
  <form method="post" id="reserveForm" class="card p-4">
    <h5>Datos de la mascota</h5>
    <div class="row">
      <div class="col-md-6 mb-3">
        <label>Tipo de mascota</label>
        <select name="pet_type" class="form-select">
          <option>Perro</option><option>Gato</option><option>Otro</option>
        </select>
      </div>
      <div class="col-md-6 mb-3">
        <label>Nombre</label>
        <input name="pet_name" class="form-control" required>
      </div>
      <div class="col-md-4 mb-3">
        <label>Tamaño</label>
        <select name="pet_size" class="form-select">
          <option>Pequeño</option><option>Mediano</option><option>Grande</option>
        </select>
      </div>
      <div class="col-md-4 mb-3">
        <label>Peso (kg)</label>
        <input type="number" step="0.1" name="pet_weight" class="form-control">
      </div>
      <div class="col-md-4 mb-3">
        <label>Género</label>
        <select name="pet_gender" class="form-select">
          <option>Macho</option><option>Hembra</option>
        </select>
      </div>
    </div>

    <h5 class="mt-3">Servicio</h5>
    <div class="mb-3">
      <label>Servicio</label>
      <select name="service_id" class="form-select">
        {% for s in services %}
        <option value="{{ s.id }}">{{ s.name }} - S/ {{ '%.2f'|format(s.price) }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label>Fecha</label>
        <input type="date" name="date" class="form-control" required>
      </div>
      <div class="col-md-6 mb-3">
        <label>Hora</label>
        <input type="time" name="time" class="form-control" required>
      </div>
    </div>

    <div class="mb-3">
      <label>Tu nombre</label>
      <input name="owner_name" class="form-control" value="{{ current_user.name if current_user.is_authenticated else '' }}">
    </div>
    <div class="mb-3">
      <label>Tu correo</label>
      <input name="owner_email" type="email" class="form-control" value="{{ current_user.email if current_user.is_authenticated else '' }}">
    </div>

    <button class="btn btn-warning w-100">Confirmar reserva</button>
  </form>
</div>

<footer class="bg-dark text-light mt-5 pt-4 pb-3">
  <div class="container">
    <div class="row">
      <!-- Información -->
      <div class="col-md-6 mb-3">
        <h5 class="text-warning">HAPPY PET</h5>
        <p>Clínica veterinaria especializada en el cuidado de tus mascotas.<br>
           Dirección: Av. Siempre Viva 123, Ciudad.<br>
           Teléfono: +51 987 654 321<br>
           Email: info@happypet.com</p>
      </div>
      <!-- Redes sociales -->
      <div class="col-md-6 mb-3">
        <h5 class="text-warning">Síguenos</h5>
        <a href="#" class="text-light me-3 fs-4"><i class="bi bi-facebook"></i></a>
        <a href="#" class="text-light me-3 fs-4"><i class="bi bi-instagram"></i></a>
        <a href="#" class="text-light me-3 fs-4"><i class="bi bi-twitter"></i></a>
        <a href="#" class="text-light me-3 fs-4"><i class="bi bi-youtube"></i></a>
      </div>
    </div>
    <div class="text-center mt-3">
      <small>&copy; {{ current_year }} HAPPY PET. Todos los derechos reservados.</small>
    </div>
  </div>
</footer>


{% endblock %}
